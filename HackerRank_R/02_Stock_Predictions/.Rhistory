executeTrans(portfolio, trans)
isdebugged(executeTrans)
debug(executeTrans)
portfolio.new <- executeTrans(portfolio, trans)
inp.lines
portf
portf$owned[idx]
portf$price[nrow(portf$price),idx]
portf
portf
cleanStart(executeTrans)
isdebugged(executeTrans)
portfolio.new <- executeTrans(portfolio, trans)
isdebugged(executeTrans)
source("stockPredictionsFunctions.r")
source("printTransactions.r")
portfolio.new <- executeTrans(portfolio, trans)
isdebugged(executeTrans)
debug(executeTrans)
isdebugged(executeTrans)
portfolio.new <- executeTrans(portfolio, trans)
portfolio.new <- executeTrans(portfolio, trans)
cleanStart(executeTrans)
isdebugged(executeTrans)
portfolio.new <- executeTrans(portfolio, trans)
for (ii in 2:(N_trans+1)) {
}
source("stockPredictionsFunctions.r")
source("printTransactions.r")
isdebugged(executeTrans)
portfolio.new <- executeTrans(portfolio, trans)
portf$price[idx,nrow(portf$price)]
portf$price[idx,ncol(portf$price)]
portf$price[idx,ncol(portf$price)]
source("stockPredictionsFunctions.r")
source("printTransactions.r")
source("stockPredictionsFunctions.r")
source("printTransactions.r")
cleanStart(executeTrans)
isdebugged(executeTrans)
debug(executeTrans)
portfolio.new <- executeTrans(portfolio, trans)
portf
source("stockPredictionsFunctions.r")
source("printTransactions.r")
#	1. printTransactions  			takes a float m money left, an integer k number of stocks,
#                             an integer d days left, a string array name of stock names,
#                             an integer array owned of stocks owned, and an 2d integer
#                             array prices of stock prices containing k arrays of length 5
#                             and print your output.
file.remove("pos_hist.csv")
file.remove("hist_prices.csv")
portfolio<-list("m" = 100,
"k" = k,
"d" = 500,
"name" = names(stox.df),
"owned" = array(data=0, dim=k),
"prices" = matrix(t(stox.df[1:5,]),nrow = k, ncol = 5)
)
pos.df<-data.frame(t(c(portfolio$owned, 0, portfolio$m)))
names(pos.df)<-c(portfolio$name, "net_value", "cash")
write.csv(pos.df, file = "pos_hist.csv")
plot(main= "positions")
legend(0,0.5)
for (ii in 5:nrow(pos.df)) {
writeLines(as.character(ii))
# update new prices
portfolio$prices<-matrix(t(stox.df[(ii-4):ii,]),nrow = k, ncol = 5)
prices.curr <- stox.df[ii,]
# send to model
trans <- printTransactions(portfolio$m,
portfolio$k,
portfolio$d,
portfolio$name,
portfolio$owned,
portfolio$prices)
# process output and update the portfolio
portfolio.new <- executeTrans(portfolio, trans)
net.value <- portfolio.new$owned*prices.curr
writeLines(as.character(net.value))
print(portfolio.new$owned)
pos.df <- rbind(pos.df, t(c(portfolio.new$owned, net.value, portfolio.new$m)))
write.csv(t(c(nrow(pos.df)+1,portfolio.new$owned, net.value, portfolio.new$m)), file = "pos_hist.csv", append = TRUE)
portfolio <- portfolio.new
}
rbind(pos.df, t(c(portfolio.new$owned, net.value, portfolio.new$m))
rbind(pos.df, t(c(portfolio.new$owned, net.value, portfolio.new$m)))
rbind(pos.df, t(c(portfolio.new$owned, net.value, portfolio.new$m)))
rbind(pos.df, t(c(portfolio.new$owned, net.value, portfolio.new$m)))
c(portfolio.new$owned, net.value, portfolio.new$m)
t(c(portfolio.new$owned, net.value, portfolio.new$m))
pos.df
portfolio.new$owned*prices.curr
net.value <- sum(portfolio.new$owned*prices.curr)
net.value
pos.df<-data.frame(t(c(portfolio$owned,portfolio$owned, 0, portfolio$m)))
names(pos.df)<-c(portfolio$name,portfolio$name, "net_value", "cash")
mapply(function(x){paste0(x,"_pos", collapse = "")}, portfolio$name)
pos.names<-mapply(function(x){paste0(x,"_pos", collapse = "")}, portfolio$name)
pos.df<-data.frame(t(c(portfolio$owned,portfolio$owned, 0, portfolio$m)))
pos.names<-mapply(function(x){paste0(x,"_pos", collapse = "")}, portfolio$name)
names(pos.df)<-c(portfolio$name,pos.names, "net_value", "cash")
rbind(pos.df, t(c(portfolio.new$owned, net.value, portfolio.new$m)))
net.value.total <- sum(portfolio.new$owned*prices.curr)
net.value.total <- sum(net.value)
net.value <- portfolio.new$owned*prices.curr
net.value.total <- sum(net.value)
write.csv(t(c(nrow(pos.df)+1,
portfolio.new$owned,
net.value,
net.value.total,
portfolio.new$m)), file = "pos_hist.csv", append = TRUE)
write.csv(t(c(nrow(pos.df)+1,
portfolio.new$owned,
net.value,
net.value.total,
portfolio.new$m)), file = "pos_hist.csv")
file.remove("pos_hist.csv")
file.remove("hist_prices.csv")
portfolio<-list("m" = 100,
"k" = k,
"d" = 500,
"name" = names(stox.df),
"owned" = array(data=0, dim=k),
"prices" = matrix(t(stox.df[1:5,]),nrow = k, ncol = 5)
)
pos.df<-data.frame(t(c(portfolio$owned,portfolio$owned, 0, portfolio$m)))
pos.names<-mapply(function(x){paste0(x,"_pos", collapse = "")}, portfolio$name)
names(pos.df)<-c(portfolio$name,pos.names, "net_value", "cash")
write.csv(pos.df, file = "pos_hist.csv")
pos.df
write.csv(t(c(nrow(pos.df)+1,
portfolio.new$owned,
net.value,
net.value.total,
portfolio.new$m)), file = "pos_hist.csv")
write.csv(pos.df, file = "pos_hist.csv")
write.csv2(t(c(nrow(pos.df)+1,
portfolio.new$owned,
net.value,
net.value.total,
portfolio.new$m)), file = "pos_hist.csv", append = TRUE)
pos.df
rbind(pos.df, t(c(portfolio.new$owned, net.value, portfolio.new$m)))
t(c(portfolio.new$owned, net.value, portfolio.new$m)
)
rbind(pos.df, t(c(portfolio.new$owned, net.value, net.value.total,portfolio.new$m)))
rbind(pos.df, as.matrix(t(c(portfolio.new$owned, net.value, net.value.total,portfolio.new$m))))
rbind(pos.df, as.numeric(t(c(portfolio.new$owned, net.value, net.value.total,portfolio.new$m))))
write.csv(pos.df, file = "pos_hist.csv", append = TRUE)
write.csv(pos.df, file = "pos_hist.csv")
pos.df
pos.df <- rbind(pos.df, as.numeric(t(c(portfolio.new$owned, net.value, net.value.total,portfolio.new$m))))
pos.df
write.csv(pos.df, file = "pos_hist.csv")
#	1. printTransactions  			takes a float m money left, an integer k number of stocks,
#                             an integer d days left, a string array name of stock names,
#                             an integer array owned of stocks owned, and an 2d integer
#                             array prices of stock prices containing k arrays of length 5
#                             and print your output.
file.remove("pos_hist.csv")
file.remove("hist_prices.csv")
portfolio<-list("m" = 100,
"k" = k,
"d" = 500,
"name" = names(stox.df),
"owned" = array(data=0, dim=k),
"prices" = matrix(t(stox.df[1:5,]),nrow = k, ncol = 5)
)
pos.df<-data.frame(t(c(portfolio$owned,portfolio$owned, 0, portfolio$m)))
pos.names<-mapply(function(x){paste0(x,"_pos", collapse = "")}, portfolio$name)
names(pos.df)<-c(portfolio$name,pos.names, "net_value", "cash")
write.csv(pos.df, file = "pos_hist.csv")
plot(main= "positions")
legend(0,0.5)
for (ii in 5:nrow(pos.df)) {
writeLines(as.character(ii))
# update new prices
portfolio$prices<-matrix(t(stox.df[(ii-4):ii,]),nrow = k, ncol = 5)
prices.curr <- stox.df[ii,]
# send to model
trans <- printTransactions(portfolio$m,
portfolio$k,
portfolio$d,
portfolio$name,
portfolio$owned,
portfolio$prices)
# process output and update the portfolio
portfolio.new <- executeTrans(portfolio, trans)
net.value <- portfolio.new$owned*prices.curr
net.value.total <- sum(net.value)
writeLines(as.character(net.value))
print(portfolio.new$owned)
pos.df <- rbind(pos.df, as.numeric(t(c(portfolio.new$owned, net.value, net.value.total,portfolio.new$m))))
write.csv(pos.df, file = "pos_hist.csv")
portfolio <- portfolio.new
}
portfolio
cleanStart(printTransactions)
trans <- printTransactions(portfolio$m,
portfolio$k,
portfolio$d,
portfolio$name,
portfolio$owned,
portfolio$prices)
where
cleanStart(printTransactions)
trans <- printTransactions(portfolio$m,
portfolio$k,
portfolio$d,
portfolio$name,
portfolio$owned,
portfolio$prices)
source("stockPredictionsFunctions.r")
source("printTransactions.r")
source("stockPredictionsFunctions.r")
source("printTransactions.r")
cleanStart(printTransactions)
trans <- printTransactions(portfolio$m,
portfolio$k,
portfolio$d,
portfolio$name,
portfolio$owned,
portfolio$prices)
cleanStart(printTransactions)
debug(printTransactions)
isdebugged(printTransactions)
trans <- printTransactions(portfolio$m,
portfolio$k,
portfolio$d,
portfolio$name,
portfolio$owned,
portfolio$prices)
View(printTransactions)
portfolio
ii
head(stox.df)
#	1. printTransactions  			takes a float m money left, an integer k number of stocks,
#                             an integer d days left, a string array name of stock names,
#                             an integer array owned of stocks owned, and an 2d integer
#                             array prices of stock prices containing k arrays of length 5
#                             and print your output.
file.remove("pos_hist.csv")
file.remove("hist_prices.csv")
portfolio<-list("m" = 100,
"k" = k,
"d" = 500,
"name" = names(stox.df),
"owned" = array(data=0, dim=k),
"prices" = matrix(t(stox.df[1:5,]),nrow = k, ncol = 5)
)
pos.df<-data.frame(t(c(portfolio$owned,portfolio$owned, 0, portfolio$m)))
pos.names<-mapply(function(x){paste0(x,"_pos", collapse = "")}, portfolio$name)
names(pos.df)<-c(portfolio$name,pos.names, "net_value", "cash")
write.csv(pos.df, file = "pos_hist.csv")
plot(main= "positions")
legend(0,0.5)
for (ii in 5:nrow(pos.df)) {
writeLines(as.character(ii))
# update new prices
portfolio$prices<-matrix(t(stox.df[(ii-4):ii,]),nrow = k, ncol = 5)
prices.curr <- stox.df[ii,]
# send to model
trans <- printTransactions(portfolio$m,
portfolio$k,
portfolio$d,
portfolio$name,
portfolio$owned,
portfolio$prices)
# process output and update the portfolio
portfolio.new <- executeTrans(portfolio, trans)
net.value <- portfolio.new$owned*prices.curr
net.value.total <- sum(net.value)
writeLines(as.character(net.value))
print(portfolio.new$owned)
pos.df <- rbind(pos.df, as.numeric(t(c(portfolio.new$owned, net.value, net.value.total,portfolio.new$m))))
write.csv(pos.df, file = "pos_hist.csv")
portfolio <- portfolio.new
}
portfolio
portfolio
nrow(pos.df)
nrow(pos.df)
nrow(pos.df)
nrow(stox.df)
#	1. printTransactions  			takes a float m money left, an integer k number of stocks,
#                             an integer d days left, a string array name of stock names,
#                             an integer array owned of stocks owned, and an 2d integer
#                             array prices of stock prices containing k arrays of length 5
#                             and print your output.
file.remove("pos_hist.csv")
file.remove("hist_prices.csv")
portfolio<-list("m" = 100,
"k" = k,
"d" = 500,
"name" = names(stox.df),
"owned" = array(data=0, dim=k),
"prices" = matrix(t(stox.df[1:5,]),nrow = k, ncol = 5)
)
pos.df<-data.frame(t(c(portfolio$owned,portfolio$owned, 0, portfolio$m)))
pos.names<-mapply(function(x){paste0(x,"_pos", collapse = "")}, portfolio$name)
names(pos.df)<-c(portfolio$name,pos.names, "net_value", "cash")
write.csv(pos.df, file = "pos_hist.csv")
plot(main= "positions")
legend(0,0.5)
for (ii in 5:nrow(stox.df)) {
writeLines(as.character(ii))
# update new prices
portfolio$prices<-matrix(t(stox.df[(ii-4):ii,]),nrow = k, ncol = 5)
prices.curr <- stox.df[ii,]
# send to model
trans <- printTransactions(portfolio$m,
portfolio$k,
portfolio$d,
portfolio$name,
portfolio$owned,
portfolio$prices)
# process output and update the portfolio
portfolio.new <- executeTrans(portfolio, trans)
net.value <- portfolio.new$owned*prices.curr
net.value.total <- sum(net.value)
writeLines(as.character(net.value))
print(portfolio.new$owned)
pos.df <- rbind(pos.df, as.numeric(t(c(portfolio.new$owned, net.value, net.value.total,portfolio.new$m))))
write.csv(pos.df, file = "pos_hist.csv")
portfolio <- portfolio.new
}
portfolio
portfolio
portfolio
portfolio
portfolio
isdebugged(printTransactions)
debuggingState()
portfolio<-list("m" = 100,
#	1. printTransactions  			takes a float m money left, an integer k number of stocks,
#                             an integer d days left, a string array name of stock names,
#                             an integer array owned of stocks owned, and an 2d integer
#                             array prices of stock prices containing k arrays of length 5
#                             and print your output.
file.remove("pos_hist.csv")
file.remove("hist_prices.csv")
portfolio<-list("m" = 100,
"k" = k,
"d" = 500,
"name" = names(stox.df),
"owned" = array(data=0, dim=k),
"prices" = matrix(t(stox.df[1:5,]),nrow = k, ncol = 5)
)
pos.df<-data.frame(t(c(portfolio$owned,portfolio$owned, 0, portfolio$m)))
pos.names<-mapply(function(x){paste0(x,"_pos", collapse = "")}, portfolio$name)
names(pos.df)<-c(portfolio$name,pos.names, "net_value", "cash")
write.csv(pos.df, file = "pos_hist.csv")
plot(main= "positions")
legend(0,0.5)
for (ii in 5:nrow(stox.df)) {
writeLines(as.character(ii))
# update new prices
portfolio$prices<-matrix(t(stox.df[(ii-4):ii,]),nrow = k, ncol = 5)
prices.curr <- stox.df[ii,]
# send to model
trans <- printTransactions(portfolio$m,
portfolio$k,
portfolio$d,
portfolio$name,
portfolio$owned,
portfolio$prices)
# process output and update the portfolio
portfolio.new <- executeTrans(portfolio, trans)
net.value <- portfolio.new$owned*prices.curr
net.value.total <- sum(net.value)
writeLines(as.character(net.value))
print(portfolio.new$owned)
pos.df <- rbind(pos.df, as.numeric(t(c(portfolio.new$owned, net.value, net.value.total,portfolio.new$m))))
write.csv(pos.df, file = "pos_hist.csv")
portfolio <- portfolio.new
}
portfolio
View(printTransactions)
isdebugged(optimizePortfolio)
isdebugged(efficientPortfolio)
#	1. printTransactions  			takes a float m money left, an integer k number of stocks,
#                             an integer d days left, a string array name of stock names,
#                             an integer array owned of stocks owned, and an 2d integer
#                             array prices of stock prices containing k arrays of length 5
#                             and print your output.
file.remove("pos_hist.csv")
file.remove("hist_prices.csv")
portfolio<-list("m" = 100,
"k" = k,
"d" = 500,
"name" = names(stox.df),
"owned" = array(data=0, dim=k),
"prices" = matrix(t(stox.df[1:5,]),nrow = k, ncol = 5)
)
pos.df<-data.frame(t(c(portfolio$owned,portfolio$owned, 0, portfolio$m)))
pos.names<-mapply(function(x){paste0(x,"_pos", collapse = "")}, portfolio$name)
names(pos.df)<-c(portfolio$name,pos.names, "net_value", "cash")
write.csv(pos.df, file = "pos_hist.csv")
plot(main= "positions")
legend(0,0.5)
for (ii in 5:nrow(stox.df)) {
writeLines(as.character(ii))
# update new prices
portfolio$prices<-matrix(t(stox.df[(ii-4):ii,]),nrow = k, ncol = 5)
prices.curr <- stox.df[ii,]
# send to model
trans <- printTransactions(portfolio$m,
portfolio$k,
portfolio$d,
portfolio$name,
portfolio$owned,
portfolio$prices)
# process output and update the portfolio
portfolio.new <- executeTrans(portfolio, trans)
net.value <- portfolio.new$owned*prices.curr
net.value.total <- sum(net.value)
writeLines(as.character(net.value))
print(portfolio.new$owned)
pos.df <- rbind(pos.df, as.numeric(t(c(portfolio.new$owned, net.value, net.value.total,portfolio.new$m))))
write.csv(pos.df, file = "pos_hist.csv")
portfolio <- portfolio.new
}
debug(efficientPortfolio)
#	1. printTransactions  			takes a float m money left, an integer k number of stocks,
#                             an integer d days left, a string array name of stock names,
#                             an integer array owned of stocks owned, and an 2d integer
#                             array prices of stock prices containing k arrays of length 5
#                             and print your output.
file.remove("pos_hist.csv")
file.remove("hist_prices.csv")
portfolio<-list("m" = 100,
"k" = k,
"d" = 500,
"name" = names(stox.df),
"owned" = array(data=0, dim=k),
"prices" = matrix(t(stox.df[1:5,]),nrow = k, ncol = 5)
)
pos.df<-data.frame(t(c(portfolio$owned,portfolio$owned, 0, portfolio$m)))
pos.names<-mapply(function(x){paste0(x,"_pos", collapse = "")}, portfolio$name)
names(pos.df)<-c(portfolio$name,pos.names, "net_value", "cash")
write.csv(pos.df, file = "pos_hist.csv")
plot(main= "positions")
legend(0,0.5)
for (ii in 5:nrow(stox.df)) {
writeLines(as.character(ii))
# update new prices
portfolio$prices<-matrix(t(stox.df[(ii-4):ii,]),nrow = k, ncol = 5)
prices.curr <- stox.df[ii,]
# send to model
trans <- printTransactions(portfolio$m,
portfolio$k,
portfolio$d,
portfolio$name,
portfolio$owned,
portfolio$prices)
# process output and update the portfolio
portfolio.new <- executeTrans(portfolio, trans)
net.value <- portfolio.new$owned*prices.curr
net.value.total <- sum(net.value)
writeLines(as.character(net.value))
print(portfolio.new$owned)
pos.df <- rbind(pos.df, as.numeric(t(c(portfolio.new$owned, net.value, net.value.total,portfolio.new$m))))
write.csv(pos.df, file = "pos_hist.csv")
portfolio <- portfolio.new
}
#	1. printTransactions  			takes a float m money left, an integer k number of stocks,
#                             an integer d days left, a string array name of stock names,
#                             an integer array owned of stocks owned, and an 2d integer
#                             array prices of stock prices containing k arrays of length 5
#                             and print your output.
file.remove("pos_hist.csv")
file.remove("hist_prices.csv")
portfolio<-list("m" = 100,
"k" = k,
"d" = 500,
"name" = names(stox.df),
"owned" = array(data=0, dim=k),
"prices" = matrix(t(stox.df[1:5,]),nrow = k, ncol = 5)
)
pos.df<-data.frame(t(c(portfolio$owned,portfolio$owned, 0, portfolio$m)))
pos.names<-mapply(function(x){paste0(x,"_pos", collapse = "")}, portfolio$name)
names(pos.df)<-c(portfolio$name,pos.names, "net_value", "cash")
write.csv(pos.df, file = "pos_hist.csv")
plot(main= "positions")
legend(0,0.5)
for (ii in 5:nrow(stox.df)) {
writeLines(as.character(ii))
# update new prices
portfolio$prices<-matrix(t(stox.df[(ii-4):ii,]),nrow = k, ncol = 5)
prices.curr <- stox.df[ii,]
# send to model
trans <- printTransactions(portfolio$m,
portfolio$k,
portfolio$d,
portfolio$name,
portfolio$owned,
portfolio$prices)
# process output and update the portfolio
portfolio.new <- executeTrans(portfolio, trans)
net.value <- portfolio.new$owned*prices.curr
net.value.total <- sum(net.value)
writeLines(as.character(net.value))
print(portfolio.new$owned)
pos.df <- rbind(pos.df, as.numeric(t(c(portfolio.new$owned, net.value, net.value.total,portfolio.new$m))))
write.csv(pos.df, file = "pos_hist.csv")
portfolio <- portfolio.new
}
where
where
where
where
